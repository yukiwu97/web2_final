{"ast":null,"code":"import _classCallCheck from\"/Users/mengjiang/Desktop/yuki_webprogram/web2/web2_final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mengjiang/Desktop/yuki_webprogram/web2/web2_final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/mengjiang/Desktop/yuki_webprogram/web2/web2_final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/mengjiang/Desktop/yuki_webprogram/web2/web2_final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/mengjiang/Desktop/yuki_webprogram/web2/web2_final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';var UpdateRecords=/*#__PURE__*/function(_Component){_inherits(UpdateRecords,_Component);var _super=_createSuper(UpdateRecords);function UpdateRecords(props){var _this;_classCallCheck(this,UpdateRecords);_this=_super.call(this,props);_this.onChangeDate=_this.onChangeDate.bind(_assertThisInitialized(_this));_this.onChangeAmount=_this.onChangeAmount.bind(_assertThisInitialized(_this));_this.onChangeCategory=_this.onChangeCategory.bind(_assertThisInitialized(_this));_this.onChangeNotes=_this.onChangeNotes.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.state={id:props.location.updateProps._id,date:'',amount:'',category:'',notes:'',originDate:new Date(props.location.updateProps.date),originAmount:props.location.updateProps.amount,originCategory:props.location.updateProps.category,originNotes:props.location.updateProps.notes};return _this;}_createClass(UpdateRecords,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({date:this.state.originDate.toISOString().split('T')[0],amount:this.state.originAmount,category:this.state.originCategory,notes:this.state.originNotes});}},{key:\"onChangeDate\",value:function onChangeDate(e){this.setState({date:e.target.value});}},{key:\"onChangeAmount\",value:function onChangeAmount(e){this.setState({amount:e.target.value});}},{key:\"onChangeCategory\",value:function onChangeCategory(e){this.setState({category:e.target.value});}},{key:\"onChangeNotes\",value:function onChangeNotes(e){this.setState({notes:e.target.value});}},{key:\"onSubmit\",value:function onSubmit(e){e.preventDefault();var record={date:this.state.date,amount:this.state.amount,category:this.state.category,notes:this.state.notes};axios.post('http://localhost:3003/record/update/'+this.state.id,record).then(function(res){console.log(res);console.log(res.data);});window.location='/';}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"record\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Update Expense\"),/*#__PURE__*/React.createElement(\"form\",{id:\"update_record_form\",onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-field\"},/*#__PURE__*/React.createElement(\"label\",null,\"Date \"),/*#__PURE__*/React.createElement(\"input\",{type:\"date\",name:\"date\",placeholder:\"\",value:this.state.date,onChange:this.onChangeDate,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-field\"},/*#__PURE__*/React.createElement(\"label\",null,\"Amount \"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",name:\"amount\",placeholder:\"\",value:this.state.amount,onChange:this.onChangeAmount,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-field\"},/*#__PURE__*/React.createElement(\"label\",null,\"Category \"),/*#__PURE__*/React.createElement(\"select\",{id:\"categories\",name:\"category\",value:this.state.category,onChange:this.onChangeCategory},/*#__PURE__*/React.createElement(\"option\",{value:\"Food\"},\"Food\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Transportation\"},\"Transportation\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Household\"},\"Household\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Apparel\"},\"Apparel\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Beauty\"},\"Beauty\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Health\"},\"Health\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Education\"},\"Education\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Gift\"},\"Gift\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Other\"},\"Other\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-field\"},/*#__PURE__*/React.createElement(\"label\",null,\"Notes \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"notes\",placeholder:\"\",value:this.state.notes,onChange:this.onChangeNotes})),/*#__PURE__*/React.createElement(\"input\",{className:\"submit\",type:\"submit\",value:\"Submit\"})));}}]);return UpdateRecords;}(Component);export default UpdateRecords;","map":{"version":3,"sources":["/Users/mengjiang/Desktop/yuki_webprogram/web2/web2_final/src/components/update-record.component.js"],"names":["React","Component","axios","UpdateRecords","props","onChangeDate","bind","onChangeAmount","onChangeCategory","onChangeNotes","onSubmit","state","id","location","updateProps","_id","date","amount","category","notes","originDate","Date","originAmount","originCategory","originNotes","setState","toISOString","split","e","target","value","preventDefault","record","post","then","res","console","log","data","window"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass UpdateRecords extends Component {\n    constructor(props) {\n        super(props);\n\n        this.onChangeDate = this.onChangeDate.bind(this);\n        this.onChangeAmount = this.onChangeAmount.bind(this);\n        this.onChangeCategory = this.onChangeCategory.bind(this);\n        this.onChangeNotes = this.onChangeNotes.bind(this);\n        \n        this.onSubmit = this.onSubmit.bind(this);\n\n        this.state = {\n            id: props.location.updateProps._id,\n            date: '',\n            amount: '',\n            category: '',\n            notes: '',\n            originDate: new Date(props.location.updateProps.date),\n            originAmount: props.location.updateProps.amount,\n            originCategory: props.location.updateProps.category,\n            originNotes: props.location.updateProps.notes\n        }\n    }\n\n    componentDidMount() {\n        this.setState({\n            date: this.state.originDate.toISOString().split('T')[0],\n            amount: this.state.originAmount,\n            category: this.state.originCategory,\n            notes: this.state.originNotes\n        });\n    }\n\n    onChangeDate(e) {\n        this.setState({\n            date: e.target.value\n        });\n    }\n\n    onChangeAmount(e) {\n        this.setState({\n            amount: e.target.value\n        });\n    }\n\n    onChangeCategory(e) {\n        this.setState({\n            category: e.target.value\n        });\n    }\n\n    onChangeNotes(e) {\n        this.setState({\n            notes: e.target.value\n        });\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n\n        const record = {\n            date: this.state.date,\n            amount: this.state.amount,\n            category: this.state.category,\n            notes: this.state.notes\n        }\n        axios.post('http://localhost:3003/record/update/' + this.state.id, record)\n            .then(res => {\n                console.log(res);\n                console.log(res.data);\n            })\n\n        window.location = '/';\n    }\n\n    render() {\n        return(\n            <div className=\"record\">\n            <h2>Update Expense</h2>\n            <form id=\"update_record_form\" onSubmit={this.onSubmit}>\n                <div className=\"form-field\">\n                    <label>Date </label>\n                    <input type=\"date\" name=\"date\" placeholder=\"\" value={this.state.date} onChange={this.onChangeDate} required />\n                </div>\n                <div className=\"form-field\">\n                    <label>Amount </label>\n                    <input type=\"number\" name=\"amount\" placeholder=\"\" value={this.state.amount} onChange={this.onChangeAmount} required/>\n                </div>\n                <div className=\"form-field\">\n                    <label>Category </label>\n                    <select id=\"categories\" name=\"category\" value={this.state.category} onChange={this.onChangeCategory}>\n                        <option value=\"Food\">Food</option>\n                        <option value=\"Transportation\">Transportation</option>\n                        <option value=\"Household\">Household</option>\n                        <option value=\"Apparel\">Apparel</option>\n                        <option value=\"Beauty\">Beauty</option>\n                        <option value=\"Health\">Health</option>\n                        <option value=\"Education\">Education</option>\n                        <option value=\"Gift\">Gift</option>\n                        <option value=\"Other\">Other</option>\n                    </select>\n                </div>\n                <div className=\"form-field\">\n                    <label>Notes </label>\n                    <input type=\"text\" name=\"notes\" placeholder=\"\" value={this.state.notes} onChange={this.onChangeNotes} />\n                </div>\n                <input className=\"submit\" type=\"submit\" value=\"Submit\"></input>\n            </form>\n            </div>\n        )\n    }\n}\n\nexport default UpdateRecords;"]},"metadata":{},"sourceType":"module"}