(this.webpackJsonpweb2_final=this.webpackJsonpweb2_final||[]).push([[0],{145:function(e,t,a){e.exports=a(190)},150:function(e,t,a){},151:function(e,t,a){},190:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(32),r=a.n(l),c=(a(150),a(16)),i=a(14),u=(a(151),a(7)),s=a(8),m=a(9),d=a(10),h=(a(152),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("nav",{className:"sidenav"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(c.b,{to:"/"},"My Money Manager")),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("li",null,o.a.createElement(c.b,{to:"/create"},"Add Expense"))))}}]),a}(n.Component)),p=a(2),E=a(13),v=a.n(E),g=a(83),f=a.n(g),b=a(84),y=a(15),C=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).data=e.datalist,n.month=e.month,n.year=e.year,n.total=0,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.drawChart()}},{key:"getClassifiedData",value:function(){var e={},t=[],a=0;for(var n in this.data.forEach((function(t){e[t.category]?e[t.category]=e[t.category]+t.amount:e[t.category]=t.amount,a+=t.amount})),this.total=a,e){var o=e[n],l=o/a*100;t.push({name:n,count:o.toFixed(2),percentage:l.toFixed(2)})}return t}},{key:"drawChart",value:function(){var e=this.getClassifiedData();console.log(this.data),console.log(e);var t=y.c().sort(null).value((function(e){return e.count})),a=Math.min(800,600)/2-10,n=y.f(this.refs.pieChart).append("svg").attr("width",800).attr("height",600).append("g").attr("transform","translate(320,300)"),o=y.e().domain(e.map((function(e){return e.name}))).range(y.d((function(e){return y.b(.6*e+.1)}),e.length+1).reverse()),l=y.a().innerRadius(100).outerRadius(a),r=y.a().innerRadius(.82*a).outerRadius(.82*a),c=t(e);n.selectAll("allPies").data(c).enter().append("path").attr("d",l).attr("fill",(function(e){return o(e.data.name)})).attr("stroke","white"),n.append("g").attr("font-family","sans-serif").attr("font-size",15).attr("text-anchor","middle").selectAll("text").data(c).join("text").attr("transform",(function(e){return"translate(".concat(r.centroid(e),")")})).call((function(e){return e.append("tspan").attr("y","-0.4em").attr("font-weight","bold").text((function(e){return e.data.name}))})).call((function(e){return e.append("tspan").attr("x",0).attr("y","0.8em").attr("font-size",14).text((function(e){return"$ "+e.data.count}))})).call((function(e){return e.append("tspan").attr("x",0).attr("y","1.9em").attr("font-size",14).text((function(e){return e.data.percentage+"%"}))})),n.append("text").attr("text-anchor","middle").attr("font-weight","bold").attr("font-size",24).attr("dy","0em").text("Total Expense"),n.append("text").attr("text-anchor","middle").attr("dy","1.4em").attr("font-size",20).text("$ "+this.total.toFixed(2))}},{key:"getMonth",value:function(e){return{0:"ALL",1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}[e]}},{key:"render",value:function(){return o.a.createElement("div",{className:"pie_chart"},o.a.createElement("h1",null,"Expenses Summary"),o.a.createElement("div",{className:"show_year_month"},"YEAR: \xa0 ",0===parseInt(this.year)?"All":this.year," \xa0\xa0 MONTH: \xa0 ",this.getMonth(this.month)),o.a.createElement("div",{ref:"pieChart"}))}}]),a}(n.Component),S=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleSelectYear=n.handleSelectYear.bind(Object(p.a)(n)),n.handleSelectMonth=n.handleSelectMonth.bind(Object(p.a)(n)),n.onSubmitSelect=n.onSubmitSelect.bind(Object(p.a)(n)),n.state={recordsList:[],sum:0,selectedYear:0,selectedMonth:0},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("http://127.0.0.1:3003/record").then((function(t){var a=t.data;console.log(a),e.setState({recordsList:a.sort((function(e,t){return e.date>t.date?1:-1})),sum:e.calculateSum(a)})})).catch((function(e){console.log("loading records failed.."),console.log(e)}))}},{key:"deleteRecord",value:function(e,t){e.preventDefault(),v.a.get("http://localhost:3003/record/delete/"+t._id).then((function(e){console.log(e),console.log(e.data)})),window.location="/"}},{key:"getLocalFormatDate",value:function(e){var t=new Date(e),a=new Date(t.getTime()+6e4*t.getTimezoneOffset());return f()(a,"ddd mmm dd, yyyy")}},{key:"calculateSum",value:function(e){var t=0;return e.forEach((function(e){t+=parseFloat(e.amount)})),t}},{key:"handleSelectYear",value:function(e){this.setState({selectedYear:e.target.value})}},{key:"handleSelectMonth",value:function(e){this.setState({selectedMonth:e.target.value})}},{key:"onSubmitSelect",value:function(e){var t=this;e.preventDefault(),v.a.get("http://localhost:3003/record/yearMonth/"+this.state.selectedYear+"/"+this.state.selectedMonth).then((function(e){var a=e.data;console.log(a),t.setState({recordsList:a.sort((function(e,t){return e.date>t.date?1:-1})),sum:t.calculateSum(a)})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"record"},o.a.createElement("h1",null,"Money Manager"),o.a.createElement("form",{onSubmit:this.onSubmitSelect},o.a.createElement("label",null,"Select Year: "),o.a.createElement("select",{id:"year",name:"year",value:this.state.selectedYear,onChange:this.handleSelectYear},o.a.createElement("option",{value:"0",selected:!0},"Select All"),o.a.createElement("option",{value:"2020"},"2020"),o.a.createElement("option",{value:"2019"},"2019"),o.a.createElement("option",{value:"2018"},"2018"),o.a.createElement("option",{value:"2017"},"2017"),o.a.createElement("option",{value:"2016"},"2016"),o.a.createElement("option",{value:"2015"},"2015"),o.a.createElement("option",{value:"2014"},"2014"),o.a.createElement("option",{value:"2013"},"2013"),o.a.createElement("option",{value:"2012"},"2012"),o.a.createElement("option",{value:"2011"},"2011"),o.a.createElement("option",{value:"2010"},"2010")),o.a.createElement("label",null,"Select Month: "),o.a.createElement("select",{id:"month",name:"month",onChange:this.handleSelectMonth},o.a.createElement("option",{value:"0",selected:!0},"Select All"),o.a.createElement("option",{value:"1"},"JAN"),o.a.createElement("option",{value:"2"},"FEB"),o.a.createElement("option",{value:"3"},"MAR"),o.a.createElement("option",{value:"4"},"APR"),o.a.createElement("option",{value:"5"},"MAY"),o.a.createElement("option",{value:"6"},"JUN"),o.a.createElement("option",{value:"7"},"JUL"),o.a.createElement("option",{value:"8"},"AUG"),o.a.createElement("option",{value:"9"},"SEP"),o.a.createElement("option",{value:"10"},"OCT"),o.a.createElement("option",{value:"11"},"NOV"),o.a.createElement("option",{value:"12"},"DEC")),o.a.createElement("input",{className:"submit",type:"submit",value:"Submit"})),o.a.createElement("div",{className:"expense_sum"},o.a.createElement("label",null,"total expense: "),o.a.createElement("span",null,"$"+this.state.sum.toFixed(2)),o.a.createElement(b.a,{modal:!0,contentStyle:{width:"80%"},trigger:o.a.createElement("button",null," Show Expense Chart")},(function(t){return o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"close",onClick:t},"\xd7"),o.a.createElement(C,{datalist:e.state.recordsList,month:e.state.selectedMonth,year:e.state.selectedYear}))}))),o.a.createElement("table",{className:"records_table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null),o.a.createElement("th",{className:"desc-h-col"},"DATE"),o.a.createElement("th",{className:"desc-h-col"},"AMOUNT"),o.a.createElement("th",{className:"desc-h-col"},"CATEGORY"),o.a.createElement("th",{className:"desc-h-col"},"NOTES"),o.a.createElement("th",{className:"button-col"}),o.a.createElement("th",{className:"button-col"}))),o.a.createElement("tbody",null,this.state.recordsList.map((function(t){return o.a.createElement("tr",null,o.a.createElement("td",{className:"counterCell"}),o.a.createElement("td",{className:"desc-col",id:"table_date"},e.getLocalFormatDate(t.date)),o.a.createElement("td",{className:"desc-col",id:"table_amount"},"$ ",t.amount.toFixed(2)),o.a.createElement("td",{className:"desc-col",id:"table_category"},t.category),o.a.createElement("td",{className:"desc-col"},t.notes),o.a.createElement("td",{className:"button-col"},o.a.createElement(c.b,{to:{pathname:"/update",updateProps:t}},o.a.createElement("button",null,"update"))),o.a.createElement("td",{className:"button-col"},o.a.createElement("button",{onClick:function(a){e.deleteRecord(a,t)}},"delete")))})))))}}]),a}(n.Component),N=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onChangeDate=n.onChangeDate.bind(Object(p.a)(n)),n.onChangeAmount=n.onChangeAmount.bind(Object(p.a)(n)),n.onChangeCategory=n.onChangeCategory.bind(Object(p.a)(n)),n.onChangeNotes=n.onChangeNotes.bind(Object(p.a)(n)),n.onSubmit=n.onSubmit.bind(Object(p.a)(n)),n.state={date:"",amount:"",category:"Food",notes:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({date:(new Date).toISOString().split("T")[0]})}},{key:"onChangeDate",value:function(e){this.setState({date:e.target.value})}},{key:"onChangeAmount",value:function(e){this.setState({amount:e.target.value})}},{key:"onChangeCategory",value:function(e){this.setState({category:e.target.value})}},{key:"onChangeNotes",value:function(e){this.setState({notes:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={date:this.state.date,amount:this.state.amount,category:this.state.category,notes:this.state.notes};v.a.post("http://localhost:3003/record/add",t).then((function(e){console.log(e),console.log(e.data)})),window.location="/"}},{key:"render",value:function(){return o.a.createElement("div",{className:"record"},o.a.createElement("h2",null,"Add Expense"),o.a.createElement("form",{id:"add_record_form",onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-field"},o.a.createElement("label",null,"Date "),o.a.createElement("input",{type:"date",name:"date",placeholder:"",value:this.state.date,onChange:this.onChangeDate,required:!0})),o.a.createElement("div",{className:"form-field"},o.a.createElement("label",null,"Amount "),o.a.createElement("input",{type:"number",name:"amount",placeholder:"",value:this.state.amount,onChange:this.onChangeAmount,required:!0})),o.a.createElement("div",{className:"form-field"},o.a.createElement("label",null,"Category "),o.a.createElement("select",{id:"categories",name:"category",value:this.state.category,onChange:this.onChangeCategory},o.a.createElement("option",{value:"Food"},"Food"),o.a.createElement("option",{value:"Transportation"},"Transportation"),o.a.createElement("option",{value:"Household"},"Household"),o.a.createElement("option",{value:"Apparel"},"Apparel"),o.a.createElement("option",{value:"Beauty"},"Beauty"),o.a.createElement("option",{value:"Health"},"Health"),o.a.createElement("option",{value:"Education"},"Education"),o.a.createElement("option",{value:"Gift"},"Gift"),o.a.createElement("option",{value:"Other"},"Other"))),o.a.createElement("div",{className:"form-field"},o.a.createElement("label",null,"Notes "),o.a.createElement("input",{type:"text",name:"notes",placeholder:"",value:this.state.notes,onChange:this.onChangeNotes})),o.a.createElement("input",{className:"submit",type:"submit",value:"Submit"})))}}]),a}(n.Component),O=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onChangeDate=n.onChangeDate.bind(Object(p.a)(n)),n.onChangeAmount=n.onChangeAmount.bind(Object(p.a)(n)),n.onChangeCategory=n.onChangeCategory.bind(Object(p.a)(n)),n.onChangeNotes=n.onChangeNotes.bind(Object(p.a)(n)),n.onSubmit=n.onSubmit.bind(Object(p.a)(n)),n.state={id:e.location.updateProps._id,date:"",amount:"",category:"",notes:"",originDate:new Date(e.location.updateProps.date),originAmount:e.location.updateProps.amount,originCategory:e.location.updateProps.category,originNotes:e.location.updateProps.notes},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({date:this.state.originDate.toISOString().split("T")[0],amount:this.state.originAmount,category:this.state.originCategory,notes:this.state.originNotes})}},{key:"onChangeDate",value:function(e){this.setState({date:e.target.value})}},{key:"onChangeAmount",value:function(e){this.setState({amount:e.target.value})}},{key:"onChangeCategory",value:function(e){this.setState({category:e.target.value})}},{key:"onChangeNotes",value:function(e){this.setState({notes:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={date:this.state.date,amount:this.state.amount,category:this.state.category,notes:this.state.notes};v.a.post("http://localhost:3003/record/update/"+this.state.id,t).then((function(e){console.log(e),console.log(e.data)})),window.location="/"}},{key:"render",value:function(){return o.a.createElement("div",{className:"record"},o.a.createElement("h2",null,"Update Expense"),o.a.createElement("form",{id:"update_record_form",onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-field"},o.a.createElement("label",null,"Date "),o.a.createElement("input",{type:"date",name:"date",placeholder:"",value:this.state.date,onChange:this.onChangeDate,required:!0})),o.a.createElement("div",{className:"form-field"},o.a.createElement("label",null,"Amount "),o.a.createElement("input",{type:"number",name:"amount",placeholder:"",value:this.state.amount,onChange:this.onChangeAmount,required:!0})),o.a.createElement("div",{className:"form-field"},o.a.createElement("label",null,"Category "),o.a.createElement("select",{id:"categories",name:"category",value:this.state.category,onChange:this.onChangeCategory},o.a.createElement("option",{value:"Food"},"Food"),o.a.createElement("option",{value:"Transportation"},"Transportation"),o.a.createElement("option",{value:"Household"},"Household"),o.a.createElement("option",{value:"Apparel"},"Apparel"),o.a.createElement("option",{value:"Beauty"},"Beauty"),o.a.createElement("option",{value:"Health"},"Health"),o.a.createElement("option",{value:"Education"},"Education"),o.a.createElement("option",{value:"Gift"},"Gift"),o.a.createElement("option",{value:"Other"},"Other"))),o.a.createElement("div",{className:"form-field"},o.a.createElement("label",null,"Notes "),o.a.createElement("input",{type:"text",name:"notes",placeholder:"",value:this.state.notes,onChange:this.onChangeNotes})),o.a.createElement("input",{className:"submit",type:"submit",value:"Submit"})))}}]),a}(n.Component);var k=function(){return o.a.createElement(c.a,null,o.a.createElement(h,null),o.a.createElement(i.a,{path:"/",exact:!0,component:S}),o.a.createElement(i.a,{path:"/create",exact:!0,component:N}),o.a.createElement(i.a,{path:"/update",exact:!0,component:O}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[145,1,2]]]);
//# sourceMappingURL=main.a4b7f2fe.chunk.js.map